apiVersion: config.kubernetes.io/v1
kind: ResourceList
items:
- apiVersion: traefik.containo.us/v1alpha1
  kind: IngressRoute
  metadata:
    name: echo-server-insecure
  spec:
    entryPoints:
      - web
    tls:
      secretName: echo-server-insecure-cert

functionConfig:
  apiVersion: v1
  kind: SetRoutes
  metadata:
    name: setroutes-fn-config
  data:
    app: testapp
    hosts:
    - test-secure.com
    routes:
    - match: Path(`/vpn`)
      kind: Rule
      services:
        - name: echo-server
          port: 443
    - match: Path(`/hello`)
      kind: Rule
      services:
        - name: echo-server
          port: 443
